<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
 <HEAD>
  <TITLE>failureyears</TITLE>
  <META NAME="generator" CONTENT="wxMaxima">
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
  <STYLE TYPE="text/css">
body {
  background-color: rgb(255,255,255);
}
.input {
  color: rgb(0,0,255);
}
.comment {
  color: rgb(0,0,0);
  background-color: rgb(255,255,255);
  padding: 2mm;
}
.image {
  color: rgb(0,0,0);
  padding: 2mm;
}
.section {
  color: rgb(0,0,0);
  font-size: 1.5em;
  padding: 2mm;
}
.subsect {
  color: rgb(0,0,0);
  font-size: 1.2em;
  padding: 2mm;
}
.title {
  color: rgb(0,0,0);
  font-size: 2em;
  padding: 2mm;
}
.prompt {
  color: rgb(255,0,0);
}
table {
  border: 0px;
}
td {
  vertical-align: top;
  padding: 1mm;
}
  </STYLE>
 </HEAD>
 <BODY>

<!---------------------------------------------------------->
<!--          Created with wxMaxima version 12.04.0         -->
<!---------------------------------------------------------->


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i33) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
f(p, D) := sum((1 - p)^(i - 1)*p, i, 1, D);
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_0.png">
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i34) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
g(N, p, D) := f(p, D)^N;
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_1.png">
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i35) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
expected_steps(N,p,D) := sum(K*((1-g(N, p, D))^(K-1) * g(N, p, D)), K, 1, +inf);
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_2.png">
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i36) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
expected_years(N, p, D) := expected_steps(N, p, D) * D / 356;
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_3.png">
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i37) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
expected_years(3, 0.01, 7);
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_4.png">
</P>


<!-- Text cell -->


<P CLASS="comment">
For some strange reason, maxima doesn't know of the sum above...  but it converges.
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i38) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
expected_steps(N, p, D) := g(N, p, D) / ((1-g(N, p, D)) - 1)^2;
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_5.png">
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i39) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
expected_years(N, p, D) := expected_steps(N, p, D) * D / 356;
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_6.png">
</P>


<!-- Text cell -->


<P CLASS="comment">
expected_years(N, p, D) is the expected number of years until we see a failure of all N nodes containing the data if the failure of a single node per day is p and the number of days between service intervals is D.
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i40) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
expected_years(3, 0.01, 7);
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_7.png">
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i41) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
expected_years(3, 1/50, 7);
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_8.png">
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i42) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
float(%o41);
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_9.png">
</P>


<!-- Text cell -->


<P CLASS="comment">
Assumption for expected uptime: after the service interval we can completely repair the machines.
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i89) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
expected_uptime(N, p, D) := 1-(sum((D-i+1)*f(p, i)^N, i, 1, D)/D);
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_10.png">
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i90) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
expected_uptime(3, 0.01, 7);
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_11.png">
</P>


<!-- Text cell -->


<P CLASS="comment">
Now for the numbers, we want to have a nice table for different probabilities and service intervals.
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i82) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
print_item(N, p, D) := print("N=", N, " - p=", p, " - D=", D, " - years=", float(expected_years(N, p, D)), " - uptime=", float(expected_uptime(N, p, D)));
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_12.png">
</P>


<!-- Code cell -->


<P><TABLE><TR><TD>
  <SPAN CLASS="prompt">
(%i91) 
  </SPAN></TD>
  <TD><SPAN CLASS="input">
create_list(print_item(N, p, D), N, [3,4], D, [3, 7, 14], p, [1/10, 1/30, 1/36, 1/50, 1/100]);
  </SPAN></TD>
</TR></TABLE>
  <BR>
  <IMG ALT="Result" SRC="failureyears_img/failureyears_13.png">
</P>

 <HR>
 <SMALL> Created with <A HREF="http://wxmaxima.sourceforge.net/">wxMaxima</A>.</SMALL>

 </BODY>
</HTML>
