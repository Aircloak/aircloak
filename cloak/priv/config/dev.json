{
  "air_site": "wss://insights.air-local:8443",
  "salt": "Salt for local dev cloak",
  "data_sources": [
    {
      "driver": "postgresql",
      "marker": "native",
      "name": "cloak_postgres_native",
      "parameters": {
        "hostname": "insights.air-local",
        "username": "cloak",
        "database": "cloak"
      },
      "tables": {
        "test": {
          "db_name": "user_data",
          "user_id": "user_id",
          "ignore_unsupported_types": false
        },
        "purchases": {
          "db_name": "purchases",
          "user_id": "uid",
          "ignore_unsupported_types": false
        },
        "demographics": {
          "db_name": "demographics",
          "user_id": "uid",
          "ignore_unsupported_types": false
        },
        "customers": {
          "db_name": "customers",
          "user_id": "id"
        },
        "accounts": {
          "db_name": "accounts",
          "user_id": "customer_id"
        },
        "transactions": {
          "db_name": "transactions",
          "projection": {
            "table": "accounts",
            "foreign_key": "account_id",
            "primary_key": "id"
          }
        },
        "integers": {
          "db_name": "integers",
          "user_id": "user_id"
        }
      }
    },
    {
      "driver": "odbc",
      "marker": "odbc",
      "name": "cloak_postgres_odbc",
      "parameters": {
        "DSN": "PostgreSQL",
        "UID": "cloak",
        "Database": "cloak",
        "Server": "insights.air-local"
      },
      "tables": {
        "test": {
          "db_name": "user_data",
          "user_id": "user_id",
          "ignore_unsupported_types": false
        },
        "purchases": {
          "db_name": "purchases",
          "user_id": "uid",
          "ignore_unsupported_types": false
        },
        "demographics": {
          "db_name": "demographics",
          "user_id": "uid",
          "ignore_unsupported_types": false
        },
        "customers": {
          "db_name": "customers",
          "user_id": "id"
        },
        "accounts": {
          "db_name": "accounts",
          "user_id": "customer_id"
        },
        "transactions": {
          "db_name": "transactions",
          "projection": {
            "table": "accounts",
            "foreign_key": "account_id",
            "primary_key": "id"
          }
        },
        "integers": {
          "db_name": "integers",
          "user_id": "user_id"
        }
      }
    },
    {
      "driver": "postgresql",
      "name": "compliance_normal",
      "marker": "normal",
      "parameters": {
        "hostname": "insights.air-local",
        "username": "datasource_compliance",
        "database": "datasource_compliance"
      },
      "tables": {
        "users": {
          "db_name": "users",
          "user_id": "id"
        },
        "notes": {
          "db_name": "notes",
          "projection": {
            "table": "users",
            "foreign_key": "user_id",
            "primary_key": "id",
            "uid_alias": "uid"
          }
        },
        "drafts_changes": {
          "db_name": "drafts_changes",
          "projection": {
            "table": "notes",
            "foreign_key": "note_id",
            "primary_key": "user_id",
            "uid_alias": "uid"
          }
        },
        "addresses": {
          "db_name": "addresses",
          "user_id": "user_id"
        }
      }
    },
    {
      "driver": "postgresql",
      "name": "compliance_encoded",
      "marker": "encoded",
      "parameters": {
        "hostname": "insights.air-local",
        "username": "datasource_compliance",
        "database": "datasource_compliance"
      },
      "tables": {
        "users": {
          "db_name": "users_encoded",
          "user_id": "id",
          "decoders": [
            {"method": "base64", "columns": ["name"]},
            {"method": "aes_cbc_128", "key": "1234567890ABCDEF", "columns": ["name"]},
            {"method": "text_to_integer", "columns": ["age"]},
            {"method": "text_to_real", "columns": ["height"]},
            {"method": "text_to_boolean", "columns": ["active"]}
          ]
        },
        "notes": {
          "db_name": "notes_encoded",
          "projection": {
            "table": "users",
            "foreign_key": "user_id",
            "primary_key": "id",
            "uid_alias": "uid"
          },
          "decoders": [
            {"method": "base64", "columns": ["title", "content"]},
            {"method": "aes_cbc_128", "key": "1234567890ABCDEF", "columns": ["title", "content"]}
          ]
        },
        "drafts_changes": {
          "db_name": "drafts_changes_encoded",
          "projection": {
            "table": "notes",
            "foreign_key": "note_id",
            "primary_key": "user_id",
            "uid_alias": "uid"
          },
          "decoders": [
            {"method": "base64", "columns": ["changes.change"]},
            {"method": "aes_cbc_128", "key": "1234567890ABCDEF", "columns": ["changes.change"]},
            {"method": "text_to_datetime", "columns": ["changes.date"]}
          ]
        },
        "addresses": {
          "db_name": "addresses_encoded",
          "decoders": [
            {"method": "base64", "columns": ["home.city", "home.postal_code", "work.city", "work.postal_code"]},
            {"method": "aes_cbc_128", "key": "1234567890ABCDEF", "columns": ["home.city", "work.city"]},
            {"method": "text_to_integer", "columns": ["home.postal_code", "work.postal_code"]}
          ],
          "user_id": "user_id"
        }
      }
    }
  ]
}
