.form-container{:"ng-app" => "buildEditor"}
  = form_for @build do |f|
    - if @build.errors.any?
      #error_explanation
        %h2= "#{pluralize(@build.errors.count, "error")} prohibited this build from being saved:"
        %ul
          - @build.errors.full_messages.each do |msg|
            %li= msg

    .control-group
      %label.control-label Build name
      .controls
        = f.text_field :name
    .control-group
      %label.control-label Use TPM?
      .controls
        = f.check_box :tpm
    .control-group
      %label.control-label Build from
      .controlj
        %input{type: :radio, name: :from_develop, :'ng-model' => "from_branch", value: "true", checked: true} From develop branch
        %br
        %input{type: :radio, name: :from_develop, :'ng-model' => "from_branch", value: "false"} From commits

    %div{:'ng-hide' => 'from_branch'}
      %h2 Select versions of the deployable entities

      - DeployableEntity.all.each do |de|
        .control-group
          %label.control-label= de.repo
          .controls
            = select_tag "build_versions[]", options_for_select(de.select_tag_titles, @build.version_for_entity(de))


    .control-group
      .controls
        = f.submit 'Save', class: "btn"
