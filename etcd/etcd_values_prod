# This is a sample file with values that should
# be stored in etcd when running the rails app
# with docker locally.
#
# To use it, please set the values appropriately,
# and rename it to etcd_values.
#
# It is ignored by git, so you can change values
# at will without leaking local state.
#
# The only primitive supported is:
#
#   etcd_set <path> <value>

etcd_set /settings/mail/smtp/address smtp.mandrillapp.com
etcd_set /settings/mail/smtp/port 587
etcd_set /settings/mail/smtp/username "sebastian@aircloak.com"
etcd_set /settings/mail/smtp/password ""
etcd_set /settings/mail/smtp/domain "aircloak.com"

# The database settings are set once when the app launches
# and cannot be changed without relaunching the container.
etcd_set /settings/air/db/host cloakdb.mpi-sws.org
etcd_set /settings/air/db/port 5432
etcd_set /settings/air/db/username aircloak
etcd_set /settings/air/db/password ""
etcd_set /settings/air/db/database aircloakdatabase
etcd_set /settings/air/db/ssl true

# Integration test settings
# Each row we upload is 504 bytes of data.
# We want a total of 100GB worth (100000000000 bytes).
# We therefore need at the very least 198,412,699 records.
# With an average of 800 records per user we are just above 100GB
# in total of data.
etcd_set /settings/air/integration_test/cluster_size 3
etcd_set /settings/air/integration_test/data/num_users 250000
etcd_set /settings/air/integration_test/data/mean_rows_per_user 800

# Whether it is a global installation, or whether it should
# ignore costly operations involving infrastructure.
# false is a good choice for local development.
etcd_set /settings/rails/global true

etcd_set /settings/rails/task/return_protocol https
etcd_set /settings/rails/task/return_host hello.aircloak.com
etcd_set /settings/rails/task/return_port 443
etcd_set /settings/rails/task/publish_url https://pub.aircloak.com/publish

etcd_set /settings/rails/secrets/private_key_password ""
etcd_set /settings/rails/secrets/github_oauth_token ""
etcd_set /settings/rails/secrets/secret_key_base ""
etcd_set /settings/rails/secrets/ca_path "/aircloak/ca"

# External services
etcd_set /service/airpub/shared_secret ""
etcd_set /service/airpub/subscribe_endpoint "wss://pub.aircloak.com/subscribe/ws"
etcd_set /service/air-sandbox/endpoint "http://172.17.42.1:11000"
etcd_set /service/frontend/endpoint "http://172.17.42.1:8080"
etcd_set /service/build_server/host build.aircloak.com
etcd_set /service/cloak/port 443
etcd_set /service/cloak/protocol https
etcd_set /service/manny_air/host localhost
