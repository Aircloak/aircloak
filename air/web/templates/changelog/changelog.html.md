## Next Version (Version 17.3.0)

### New features

- Added experimental support for querying the system from Tableau.

### Enhancements

- Drastically improved performance for all top-level aggregators except `MEDIAN` (about 60% faster and 75% less memory usage).
- Query results UI now displays a warning for buckets generated by a low number of users.
- When available, error location is now marked in the query editor.
- Added REST API for canceling a query.
- Broken views are marked in the sidebar.
- You can add descriptions to data sources to make them easier to distinguish.
- Audit logging can be turned off.
- Preventing user or group changes which would leave the system without any administrator user.
- Confirmation dialogs are presented when attempting to delete a user, a group, or a data source.
- The source code of third party dependencies is available for download from the license page.
- Improvements to anonymization might cause old queries to return different results for the same data.

### Changes

- Because of a change in range anonymization the exact results of queries involving ranges might change compared to the same query run on the previous version.
- FULL OUTER JOINs are no longer allowed (because they implement `OR` functionality).
- `SUM`, `AVG`, `SUM_NOISE`, and `AVG_NOISE` return `null` when there are not enough users to produce a valid result.
- `COUNT_NOISE` returns `null` when there are not enough users to produce a valid result whereas `COUNT` will produce
  the minimum reportable number. This ensures Aircloak behaves like other SQL dialects where `COUNT` is expected to
  produce a non-null number.

## Version 17.2.0

### New features

- Adds an [Activity Monitor](/admin/activity_monitor) that allows an administrator to see all queries running in the system across all analysts, as well as the memory usage across all connected cloaks.
- Show indication of progress when a query is executing.
- Adds an [endpoint for monitoring](/docs#monitoring) by external tools.
- Adds a [settings pane](/admin/settings) with the ability to specify the retention time for past queries.

### Enhancements

- Allow unlimited recall of past query history.
- Produces an error message when a data source is configured with an invalid decryption key.
- Cloaks terminate queries when about to run out of memory, rather than crash.
- Ability to speed up schema detection of MongoDB collections by sampling a subset of the data.
- Improved protection of sensitive details in system health data.
- The performance of computing medians in emulated database queries is improved. In representative use cases by more than a factor of two.
- Improved performance by 30% when using `extract_matches` function.
- Allow multiple queries to be run at once in one tab.
- Restore running queries when refreshing/opening a new tab.

### Changes

- Remove charting of errors and automatic detection of axes. Instead it's possible to select which columns to plot.

### Bug fixes
- Fixes usage of dotted names in sub-queries.
- Fixes filtering of rows generated by `extract_matches`.
- Fix data leakage in `min`/`max` aggregators.

## Version 17.1.0

Initial public release.
