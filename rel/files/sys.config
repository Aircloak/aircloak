[
  %% SASL config
  {sasl, [
    {sasl_error_logger, {file, "log/sasl-error.log"}},
    {errlog_type, error},
    {error_logger_mf_dir, "log/sasl"},      % Log directory
    {error_logger_mf_maxbytes, 10485760},   % 10 MB max file size
    {error_logger_mf_maxfiles, 5}           % 5 files max
  ]},

  {airpub, [
    % the port on which airpub will listen for http connections
    {http_port, 1080},
    % the ip on which airpub will listen for http connections
    {http_ip, {127, 0, 0, 1}},
    % the validity period (in seconds) of a request generated by web
    {request_expiration_period, 120},
    % the file containing the shared secret between airpub and web
    {shared_secret_file, "../config/airpub_shared_secret"},
    % the time (in seconds) to keep an article in history
    {publish_history_size, 30},
    % the forward routes for published articles (longest match is taken)
    {publishing_forward_routes, [
      {"/results/", "https://hello.aircloak.com/results"},
      {"/audit_log/", "https://hello.aircloak.com/audit_logs"}
    ]}
  ]},

  {lager, [
    {handlers, [
      {lager_syslog_backend, ["airpub", local1, info]},
      {lager_console_backend, info}
    ]},

    %% Whether to redirect error_logger messages into lager - defaults to true
    {error_logger_redirect, true}
  ]},

  {pidder, [
    %% Name of your application.
    %% Affects the location at which the pid is stored.
    {name, airpub},

    %% Path to the directory on disk where your pid is
    %% stored.
    {dir, "/var/run"}
  ]}
].

